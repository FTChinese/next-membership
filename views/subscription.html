<!DOCTYPE html>
<html class="no-js core" data-next-app="front-page">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>会员订阅 - FT中文网</title>
  <meta http-equiv="Content-Language" content="zh-CN"/>
  <meta content="会员订阅" name="description"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" href="http://static.ftchinese.com/img/ipad_icon.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script   src="http://static.ftchinese.com/js/jquery-1.10.2.min.js?0"></script>

  <link inline rel="stylesheet" type="text/css" href="styles/main.css">
  
</head>

<body>
<div class="welcome-guide">
  <div class="words">
    <div class="first"><strong>欢迎进入FT中文网会员专属服务频道</strong></div>
    <div class="second">本频道是为更好服务FT中文网会员朋友们而设立的，是FT中文网与会员朋友之间沟通与交流的平台。在这里您将了解到FT中文网为会员提供的最新专属服务。</div>
  </div>
  <div class="show-image">
    <img src="http://i.ftimg.net/picture/6/000068886_piclink.jpg" />
  </div>
  <div class="clear-class"></div>
</div>

<div id="payment-page">
</div>

<div id="site-content" class="o-grid-container">
  <div class="o-member__heading">
    <p>请选择您的订阅方式。<span class="o-member__login">已经是会员，请<a href="http://user.ftchinese.com/login" >点击这里</a></span></p>
  </div>


  
  <div class="o-grid-row" >
    
    <div class="o-member o-member__premium" >
      <h2 class="o-member__title">普通会员</h2>
      <div class="o-member__border"></div>
      <ul class="o-member__benefits">
        
        <li>阅读FT中文网所有独家内容</li>
        
        <li>收听英文文章音频</li>
        
      </ul> 
      <div class="o-member__subscribe">
        
        <button  class="openSub">立即订阅</button>
        <p> CN¥198.00/年</p>
        <input type="text" value="198.00/年" hidden id="regular-member">
      </div>         
    </div>
    
    <div class="o-member o-member__standard" >
      <h2 class="o-member__title">高端会员</h2>
      <div class="o-member__border"></div>
      <ul class="o-member__benefits">
        
        <li>《FT编辑精选》，每周不可错过的独家必读内容</li>
        
        <li>获得两张价值3999元的FT中文网年会门票</li>
        
        <li>阅读FT中文网所有独家内容</li>
        
        <li>收听英文文章音频</li>
        
      </ul> 
      <div class="o-member__subscribe">
        
        <button class="openSub">立即订阅</button>
        <p>CN¥1,998.00/年</p>
        <input type="text" value="1,998.00/年" hidden id="premium-member">
      </div>         
    </div>
    
  </div>
</div>


<script type="text/javascript">
  var aLi = document.querySelectorAll('.openSub');

  var paymentPage = document.getElementById('payment-page');
  var paymentShadow = document.getElementById('payment-shadow');
  var price = '';
  var memberType = "";
  var handler = function(event){
      var childNodes = this.parentNode.children;
      price = childNodes[2].value;
      console.log(childNodes)
      var parentsNode = this.parentNode.parentNode.children;
      memberType = parentsNode[0].innerHTML;
      console.log(parentsNode)
  
      var previewHTML = '<div id="payment-shadow" class="o-overlay-shadow fadeIn"></div><div id="payment-box" class="rightanswer show o-overlay__arrow-top fadeInRight"><div class="payment-title">欢迎订阅FT会员服务</div><div class="payment-way"><div class="payment-name"><span>会员类型：</span><span class="payment-type"><strong>'+memberType+'</strong></span></div><div class="payment-method"><span>支付方式：</span><label class="mode"><input name="pay" type="radio" value="ali" /><img src="http://static.ftchinese.com/img/pay-ali.jpg" /> </label><label><input name="pay" type="radio" value="wxpay" /><img src="http://static.ftchinese.com/img/pay-wxpay.jpg" /></label></div></div><div class="pay-action"><label>支付金额 '+price+'</label><button  class="to-pay" id="to-pay">确定支付</button></div></div>';
      paymentPage.innerHTML = previewHTML;
  };
  
  for (let i = 0; i < aLi.length; i++) {

    if (window.addEventListener){
        aLi[i].addEventListener("click",handler,false);
    }else if (window.attachEvent){
        aLi[i].attachEvent("onclick",handler);
    }

  }
  var payWay = '';
  var pays = document.getElementsByName('pay');
  $('body').on('click', '#to-pay', function () {
    for(let j = 0; j < pays.length; j++){
        if(pays[j].checked == true){
            payWay = pays[j].value;
        }
    }
    // console.log(payWay);
    //满足2个条件：1.支付方式  2.会员类型
    if (memberType==="高端会员" && payWay==="ali") {
        window.open('http://premium.ftacademy.cn/index.php/pay?offerId=8d5e7e72f12067991186cdf3cb7d5d9d')
    }
    if (memberType==="普通会员" && payWay==="ali") {
        window.open('http://premium.ftacademy.cn/index.php/pay?offerId=eb6d8ae6f20283755b339c0dc273988b')
    }
    $('#payment-page').empty();
  });
  $('body').on('click', '#payment-shadow', function () {
      $('#payment-page').empty();
  });
  

</script>


</body>
</html>